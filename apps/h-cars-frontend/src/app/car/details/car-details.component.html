<div class="car-container">
  <div class="car-box">
    <a class="btn btn-primary" [routerLink]="['/car']"> Go back </a>
    <div class="details-container">
      <div class="car-image-container">
        <img [src]="car?.imageUrl" alt="Car Image" class="car-image" />
      </div>

      <div class="car-details-container">
        <div class="info-row">
          <div class="info-label">Car Model:</div>
          <div>{{ car?.carModel }}</div>
        </div>

        <div class="info-row">
          <div class="info-label">Counter:</div>
          <div>{{ car?.counter }}</div>
        </div>

        <div class="info-row">
          <div class="info-label">Type of Fuel:</div>
          <div>{{ car?.typeOfFuel }}</div>
        </div>

        <div class="info-row">
          <div class="info-label">Transmission Type:</div>
          <div>{{ car?.transmissionType }}</div>
        </div>

        <div class="info-row">
          <div class="info-label">APK:</div>
          <div>{{ car?.apk ? 'Yes' : 'No' }}</div>
        </div>

        <div *ngIf="car?.apk" class="info-row">
          <div class="info-label">APK Expires:</div>
          <div>{{ car?.apkExpires | date }}</div>
        </div>

        <div class="info-row">
          <div class="info-label">Number Plate:</div>
          <div>{{ car?.numberPlate }}</div>
        </div>

        <div class="info-row">
          <div class="info-label">Construction Year:</div>
          <div>{{ car?.constructionYear }}</div>
        </div>

        <div class="info-row">
          <div class="info-label">Published by:</div>
          <div>{{ car?.userEmail }}</div>
        </div>
      </div>
    </div>

    <div class="container mt-5">
      <div class="row mb-3">
        <div class="col-md-12 text-center">
          <a class="btn btn-warning mr-2" (click)="updateCar()">Update car</a>
          <a class="btn btn-danger mr-2" (click)="deleteCar()">Delete car</a>
          <a class="btn btn-info" (click)="likeCar(car?._id!)">Like car</a>
        </div>
      </div>
    </div>

    <div class="container mt-4">
      <div class="row">
        <div class="col-md-12">
          <form (ngSubmit)="placeOffer()">
            <div class="form-group">
              <label for="offerAmount">Offer Amount</label>
              <input
                type="number"
                class="form-control"
                id="offerAmount"
                [(ngModel)]="offerAmount"
                name="offerAmount"
                required
              />
            </div>
            <button type="submit" class="btn btn-success">Submit Offer</button>
          </form>
        </div>
      </div>
    </div>

    <div class="container mt-4" *ngIf="currentOffers.length > 0">
      <h5>Current Offers:</h5>
      <ul class="list-group">
        <li class="list-group-item" *ngFor="let offer of currentOffers">
          <strong>User:</strong> {{ offer.user }} <strong>Price:</strong>
          {{ offer.price | currency }}
        </li>
      </ul>
    </div>

    <div *ngIf="errorMessage" class="error-message">
      {{ errorMessage }}
    </div>
  </div>
</div>
